pipeline {
    agent any
    tools { 
        maven 'Maven 3.3.9' 
        jdk 'jdk8' 
    }
	
	options {
       checkoutToSubdirectory 'repository'
    }
	
    stages {
        stage ('Initialize') {
            steps {
                sh '''
                    echo "PATH = ${PATH}"
                    echo "M2_HOME = ${M2_HOME}"
                ''' 
            }
        }
		
		stage ('Initialize') {
            steps {
                sh '''
                    echo "PATH = ${PATH}"
                    echo "M2_HOME = ${M2_HOME}"
                ''' 
            }
        }
	
		stage ('static code analysis') {
           steps {

                mvn("validate")
            }
        }
		stage ('Build') {
           steps {
		   
                mvn("compile")
            }
        }
		stage ('Create and Store Package') {
           steps {

                mvn("package")
            }
			steps {
				code to push package to artifactory
			}
        }
        stage("Deploy to QA") {
            steps {
			pull the war from artifactory
            }
			steps {
			deploy it to tomcat/docker/kub...
			}
        }
		stage("Perform UI Test") {a
            steps {
			//functionaltest/pom.xml, mvn test, html publish report 
                mvn("clean package")
            }
        }
		stage("Deploy to Prod") {
            steps {
				pull the war from artifactory
            }
			steps {
				deploy it to tomcat/docker/kub...
			}
        }
		
		stage("Perform Sanity test") {
            steps {
				//Acceptancetest/pom.xml mvn test, publish html report
                mvn("clean package")
            }
        }
    }
}